## ChatGPT4

EIP-6780 proposes changes to the behavior of the SELFDESTRUCT opcode in Ethereum. When SELFDESTRUCT is executed in the same transaction as the contract was created, it will continue to delete all storage keys and the account itself, but the account will behave like an empty account in all later transactions. The account balance will be transferred to the target and set to 0, but no refund will be given since EIP-3529. The cleared storage will be marked as having been written before but empty when verkle tries are implemented on Ethereum. The SELFDESTRUCT opcode remains deprecated and any use in newly deployed contracts is strongly discouraged. nnThe EIP also requires a hard fork and modifies consensus rules. The only breaking change occurs when a contract is re-created at the same address using CREATE2 after a SELFDESTRUCT, where the SELFDESTRUCT is executed in a transaction that’s different from the one that originally creates the contract. The EIP aims to reduce the complexity of the change on EVM implementations that would come from contract versioning. nnAdditionally, EIP-6190 proposes changes to the SELFDESTRUCT opcode to only cause a finite number of state changes, which is motivated by the fact that SELFDESTRUCT has a fixed price but is unbounded in storage/account changes. With Verkle trees, accounts will be organized differently and it would be challenging to support SELFDESTRUCT. Instead of destroying the contract at the end of the transaction, the contract’s code will be set to 0x1 and its nonce will be set to 2^64-1.
